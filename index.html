<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>67 Clicker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #050509;
      --panel: #101018;
      --accent: #ffdd33;
      --accent-soft: #ffd63333;
      --accent-strong: #ffcc00;
      --text: #f5f5f5;
      --muted: #aaaaaa;
      --good: #55ff99;
      --border: #202030;
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #181830 0%, #050509 60%);
      color: var(--text);
      font-family: var(--font-main);
      display: flex;
      justify-content: center;
      align-items: stretch;
      min-height: 100vh;
    }

    .game-wrapper {
      width: 100%;
      max-width: 1100px;
      display: flex;
      flex-direction: row;
      gap: 12px;
      padding: 10px;
    }

    @media (max-width: 800px) {
      .game-wrapper {
        flex-direction: column;
        height: auto;
      }
    }

    .panel {
      background: linear-gradient(145deg, #090910, #121220);
      border-radius: 10px;
      border: 1px solid var(--border);
      padding: 10px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
    }

    .left-panel {
      flex: 1.1;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .right-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .header {
      text-align: center;
      margin-bottom: 4px;
    }

    .title {
      margin: 0;
      font-size: 1.6rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .subtitle {
      margin: 0;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .big-number {
      font-size: 2.1rem;
      text-align: center;
      margin: 4px 0 8px;
      font-variant-numeric: tabular-nums;
    }

    .big-number span {
      color: var(--accent-strong);
      text-shadow: 0 0 12px rgba(255, 221, 51, 0.7);
    }

    .click-area {
      display: flex;
      justify-content: center;
      margin-bottom: 8px;
    }

    .click-button {
      position: relative;
      width: min(260px, 70vw);
      height: min(260px, 70vw);
      border-radius: 50%;
      border: 3px solid var(--accent);
      background: radial-gradient(circle at 30% 20%, #ffffff22 0%, #ffdd33 15%, #ff8800 55%, #3a1300 100%);
      box-shadow:
        0 0 30px rgba(255, 221, 51, 0.7),
        0 0 80px rgba(255, 136, 0, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #1a0b00;
      font-weight: 800;
      font-size: 3rem;
      text-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
      cursor: pointer;
      user-select: none;
      transition: transform 0.07s ease, box-shadow 0.07s ease;
      overflow: hidden;
    }

    .click-button::after {
      content: "CLICK 67";
      position: absolute;
      bottom: 10px;
      font-size: 0.9rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      opacity: 0.8;
    }

    .click-button:active {
      transform: scale(0.94);
      box-shadow:
        0 0 16px rgba(255, 221, 51, 0.8),
        0 0 40px rgba(255, 136, 0, 0.5);
    }

    .click-amount {
      position: absolute;
      top: 14px;
      font-size: 0.8rem;
      background: rgba(0, 0, 0, 0.45);
      padding: 3px 6px;
      border-radius: 999px;
      color: var(--accent);
      border: 1px solid rgba(255, 221, 51, 0.4);
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 6px 10px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      white-space: nowrap;
      user-select: none;
      transition: transform 0.07s ease, box-shadow 0.07s ease, background 0.1s ease;
    }

    .btn:active {
      transform: scale(0.95);
      box-shadow: none;
    }

    .btn-primary {
      appearance: none !important;
      -webkit-appearance: none !important;
      background: linear-gradient(135deg, #ffdd33, #ff8800) !important;
      color: #1a0b00 !important;
      border: none !important;
      box-shadow: 0 0 10px rgba(255, 221, 51, 0.6) !important;
    }

    .btn-primary.disabled,
    .btn-primary:disabled {
      appearance: none !important;
      -webkit-appearance: none !important;
      background: #444444 !important;
      color: #cccccc !important;
      border: none !important;
      box-shadow: none !important;
      opacity: 0.6 !important;
      cursor: not-allowed !important;
    }

    .btn-ghost {
      background: transparent;
      color: var(--muted);
      border: 1px solid var(--border);
    }

    .btn-ghost:hover {
      background: rgba(255, 255, 255, 0.03);
    }

    .section-title {
      font-size: 1rem;
      margin-top: 0;
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
    }

    .upgrades-list,
    .achievements-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
      max-height: 260px;
      overflow-y: auto;
    }

    .card {
      border-radius: 6px;
      padding: 7px 8px;
      background: rgba(0, 0, 0, 0.35);
      border: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .card-main {
      flex: 1;
      min-width: 0;
    }

    .card-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 1px;
    }

    .card-desc {
      font-size: 0.78rem;
      color: var(--muted);
    }

    .card-meta {
      font-size: 0.75rem;
      color: var(--muted);
      margin-top: 3px;
    }

    .card-badge {
      font-size: 0.72rem;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255, 221, 51, 0.09);
      color: var(--accent);
    }

    .achievements-list .card {
      opacity: 0.4;
    }

    .achievements-list .card.unlocked {
      opacity: 1;
      border-color: var(--accent-soft);
      background: radial-gradient(circle at top left, rgba(255, 221, 51, 0.2), rgba(0, 0, 0, 0.5));
    }

    .achievements-list .card.unlocked .card-badge {
      background: rgba(85, 255, 153, 0.1);
      border-color: rgba(85, 255, 153, 0.6);
      color: var(--good);
    }

    .prestige-panel {
      margin-top: 4px;
    }

    .prestige-info {
      font-size: 0.78rem;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .prestige-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-items: center;
      justify-content: space-between;
    }

    .prestige-pill {
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 0.78rem;
      border: 1px solid var(--border);
      background: rgba(0, 0, 0, 0.35);
    }

    .footer-buttons {
      margin-top: 6px;
      display: flex;
      justify-content: space-between;
      gap: 6px;
      flex-wrap: wrap;
    }

    .stats-ui {
      background: rgba(0,0,0,0.25);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 8px;
      font-size: 0.85rem;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .tap-hint {
      text-align: center;
      font-size: 0.75rem;
      color: var(--muted);
      margin-top: 2px;
    }

    .pop {
      position: fixed;
      pointer-events: none;
      color: var(--accent);
      font-size: 0.9rem;
      text-shadow: 0 0 4px rgba(0, 0, 0, 0.8);
      z-index: 9999;
      animation: pop-up 0.6s ease-out forwards;
    }

    @keyframes pop-up {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(-25px); }
    }
  </style>
</head>
<body>
  <div class="game-wrapper">

    <!-- LEFT PANEL -->
    <div class="left-panel panel">

      <div class="header">
        <h1 class="title">67 CLICKER</h1>
        <p class="subtitle">The meme never ends. Only multiplies.</p>
      </div>

      <div class="big-number">
        You own <span id="big-number">0</span>
      </div>

      <div class="click-area">
        <div id="main-click" class="click-button">
          <div class="click-amount" id="click-amount-display">+1 per tap</div>
          67
        </div>
      </div>

      <div class="tap-hint">Tap / click the 67 ball to farm the meme.</div>

      <!-- STATS UI UNDER BUTTON -->
      <div class="stats-ui">
        <div>Current: <span id="stat-current">0</span></div>
        <div>Total earned: <span id="stat-total-earned">0</span></div>
        <div>Total clicks: <span id="stat-total-clicks">0</span></div>
        <div>Highest held: <span id="stat-highest">0</span></div>
        <div>Per click: <span id="stat-per-click">1</span></div>
        <div>Per second: <span id="stat-per-second">0</span></div>
        <div>Upgrades bought: <span id="stat-upgrades">0</span></div>
        <div>Achievements unlocked: <span id="stat-achieve">0</span></div>
        <div>Prestige level: <span id="stat-prestige-level">0</span></div>
        <div>Aura points: <span id="stat-aura">0</span></div>
        <div>Aura multiplier: <span id="stat-aura-mult">x1.00</span></div>
      </div>

      <div class="footer-buttons">
        <button id="btn-save" class="btn btn-ghost">Save</button>
        <button id="btn-hard-reset" class="btn btn-ghost">Hard Reset</button>
        <span style="font-size:0.7rem;color:var(--muted);flex:1;text-align:right;">
          Auto-saves every few seconds.
        </span>
      </div>

    </div>

    <!-- RIGHT PANEL -->
    <div class="right-panel">

      <div class="panel">
        <h2 class="section-title">Upgrades</h2>
        <div id="upgrades" class="upgrades-list"></div>
      </div>

      <div class="panel">
        <h2 class="section-title">Achievements</h2>
        <div id="achievements" class="achievements-list"></div>
      </div>

      <div class="panel prestige-panel">
        <h2 class="section-title">Prestige</h2>

        <div class="prestige-info">
          Reset everything for permanent <strong>67 Aura</strong> that multiplies all 67 gain forever.
        </div>

        <div class="prestige-row">

          <div class="prestige-pill">
            <span style="color:var(--muted);font-size:0.75rem;">67 Aura:</span>
            <span id="prestige-points" style="color:var(--accent);font-weight:600;">0</span>
          </div>

          <div class="prestige-pill">
            <span style="color:var(--muted);font-size:0.75rem;">Multiplier:</span>
            <span id="prestige-mult" style="color:var(--good);font-weight:600;">x1.00</span>
          </div>

          <button id="btn-prestige" class="btn btn-primary disabled" style="margin-left:auto;">
            Ascend 67
          </button>

        </div>

        <div class="prestige-info" id="prestige-requirement">
          Need at least 10,000 total 67 to prestige.
        </div>

      </div>

    </div>

  </div>
<script>
const SAVE_KEY = "sixtySevenClickerSave_v3";

const gameState = {
  currency: 0,
  totalCurrency: 0,
  totalClicks: 0,
  highest: 0,
  perClickBase: 1,
  perSecondBase: 0,
  upgrades: {},
  achievementsUnlocked: {},
  prestigeLevel: 0,
  prestigePoints: 0,
  lastTick: Date.now()
};

const upgradesConfig = [
  { id:"click_plus_1", name:"Finger of 67", desc:"+1 per click.", baseCost:50, costScale:1.35, type:"click", value:1 },
  { id:"click_plus_5", name:"Double-Handed 67", desc:"+5 per click.", baseCost:350, costScale:1.4, type:"click", value:5 },
  { id:"click_plus_25", name:"Mechanical 67 Tapper", desc:"+25 per click.", baseCost:2500, costScale:1.45, type:"click", value:25 },

  { id:"auto_1", name:"Background 67 Loop", desc:"Generates 1 67 per second.", baseCost:100, costScale:1.3, type:"auto", value:1 },
  { id:"auto_5", name:"Infinite 67 GIF Farm", desc:"Generates 5 67 per second.", baseCost:900, costScale:1.32, type:"auto", value:5 },
  { id:"auto_25", name:"67 Dedicated Server", desc:"Generates 25 67 per second.", baseCost:8000, costScale:1.35, type:"auto", value:25 },

  { id:"click_plus_100", name:"Quantum 67 Tapper", desc:"+100 per click.", baseCost:15000, costScale:1.48, type:"click", value:100 },
  { id:"click_plus_500", name:"Divine 67 Finger", desc:"+500 per click.", baseCost:75000, costScale:1.5, type:"click", value:500 },
  { id:"click_plus_2500", name:"67 Reality Splitter", desc:"+2500 per click.", baseCost:350000, costScale:1.55, type:"click", value:2500 },

  { id:"auto_50", name:"67 Mining Rig", desc:"Generates 50 67 per second.", baseCost:20000, costScale:1.35, type:"auto", value:50 },
  { id:"auto_250", name:"67 AI Generator", desc:"Generates 250 67 per second.", baseCost:120000, costScale:1.38, type:"auto", value:250 },
  { id:"auto_1000", name:"67 Dimensional Farm", desc:"Generates 1000 67 per second.", baseCost:650000, costScale:1.42, type:"auto", value:1000 },

  { id:"hybrid_1", name:"67 Dual-Core Engine", desc:"+500 per click & +500/sec.", baseCost:5000000, costScale:1.45, type:"hybrid", value:500 },
  { id:"hybrid_2", name:"67 Fusion Matrix", desc:"+5000 per click & +5000/sec.", baseCost:25000000, costScale:1.5, type:"hybrid", value:5000 }
];

const achievementsConfig = [
  { id:"first_click", name:"First 67", desc:"Click the 67 once.", check:s=>s.totalClicks>=1, rewardText:"The journey begins." },
  { id:"hundred_clicks", name:"67 Spam", desc:"Click 67 one hundred times.", check:s=>s.totalClicks>=100, rewardText:"Your finger remembers this." },
  { id:"thousand_total", name:"67 Collector", desc:"Reach 1,000 total 67.", check:s=>s.totalCurrency>=1000, rewardText:"You're in the loop." },
  { id:"tenk_total", name:"67 Hoarder", desc:"Reach 10,000 total 67.", check:s=>s.totalCurrency>=10000, rewardText:"You see the pattern." },
  { id:"first_prestige", name:"Ascended 67", desc:"Prestige at least once.", check:s=>s.prestigeLevel>=1, rewardText:"You touched the higher meme." }
];

const prestigeConfig = {
  baseRequirement: 10000,
  scaling: 3,
  pointsPerLog10: 1.5
};

function formatNumber(n){
  if(n<1e3) return n.toFixed(0);
  if(n<1e6) return (n/1e3).toFixed(1).replace(/\.0$/,"")+"K";
  if(n<1e9) return (n/1e6).toFixed(2).replace(/\.0+$/,"")+"M";
  if(n<1e12) return (n/1e9).toFixed(2).replace(/\.0+$/,"")+"B";
  return n.toExponential(2);
}

function spawnPop(x,y,text){
  const el=document.createElement("div");
  el.className="pop";
  el.textContent=text;
  el.style.left=x+"px";
  el.style.top=y+"px";
  document.body.appendChild(el);
  setTimeout(()=>{ if(el.parentNode) el.parentNode.removeChild(el); },600);
}

function getPrestigeMultiplier(){
  return 1 + gameState.prestigePoints * 0.15;
}

function getTotalClickPower(){
  let base=gameState.perClickBase, bonus=0;
  for(const id in gameState.upgrades){
    const c=gameState.upgrades[id]||0;
    const u=upgradesConfig.find(x=>x.id===id);
    if(!u) continue;
    if(u.type==="click"||u.type==="hybrid") bonus+=u.value*c;
  }
  return (base+bonus)*getPrestigeMultiplier();
}

function getTotalAutoPower(){
  let base=gameState.perSecondBase, bonus=0;
  for(const id in gameState.upgrades){
    const c=gameState.upgrades[id]||0;
    const u=upgradesConfig.find(x=>x.id===id);
    if(!u) continue;
    if(u.type==="auto"||u.type==="hybrid") bonus+=u.value*c;
  }
  return (base+bonus)*getPrestigeMultiplier();
}

function getUpgradeCost(u,c){
  return Math.floor(u.baseCost * Math.pow(u.costScale,c));
}

function getPrestigeRequirement(){
  return prestigeConfig.baseRequirement * Math.pow(prestigeConfig.scaling, gameState.prestigeLevel);
}

function calculatePrestigeGain(){
  const req=getPrestigeRequirement();
  if(gameState.totalCurrency<req) return 0;
  const ratio=gameState.totalCurrency/req;
  const gain=Math.floor(Math.log10(ratio+1)*prestigeConfig.pointsPerLog10);
  return gain>0?gain:0;
}

function saveGame(){
  try{ localStorage.setItem(SAVE_KEY, JSON.stringify(gameState)); }catch(e){}
}

function loadGame(){
  try{
    const raw=localStorage.getItem(SAVE_KEY);
    if(!raw) return;
    Object.assign(gameState, JSON.parse(raw));
    gameState.lastTick=Date.now();
  }catch(e){}
}

function hardReset(){
  if(!confirm("Hard reset will erase all progress. Continue?")) return;
  localStorage.removeItem(SAVE_KEY);
  location.reload();
}

function renderUpgrades(){
  const container=document.getElementById("upgrades");
  container.innerHTML="";
  upgradesConfig.forEach(u=>{
    const count=gameState.upgrades[u.id]||0;
    const cost=getUpgradeCost(u,count);

    const card=document.createElement("div");
    card.className="card";

    const main=document.createElement("div");
    main.className="card-main";

    const title=document.createElement("div");
    title.className="card-title";
    title.textContent=u.name;

    const desc=document.createElement("div");
    desc.className="card-desc";
    desc.textContent=u.desc;

    const meta=document.createElement("div");
    meta.className="card-meta";
    meta.innerHTML=
      "Cost: <span style='color:var(--accent);font-weight:600;'>"+
      formatNumber(cost)+
      "</span> â€¢ Owned: <span style='color:var(--good);font-weight:600;'>"+
      count+
      "</span>";

    main.appendChild(title);
    main.appendChild(desc);
    main.appendChild(meta);

    const side=document.createElement("div");
    side.style.display="flex";
    side.style.flexDirection="column";
    side.style.alignItems="flex-end";
    side.style.gap="4px";

    const badge=document.createElement("div");
    badge.className="card-badge";
    if(u.type==="click") badge.textContent="+ "+u.value+" / click";
    else if(u.type==="auto") badge.textContent="+ "+u.value+" / sec";
    else badge.textContent="+ "+u.value+" / click & / sec";

    const btn=document.createElement("button");
    btn.className="btn btn-primary";
    btn.textContent="Buy";
    if(gameState.currency<cost) btn.classList.add("disabled");
    btn.addEventListener("click",()=>buyUpgrade(u.id));

    side.appendChild(badge);
    side.appendChild(btn);

    card.appendChild(main);
    card.appendChild(side);
    container.appendChild(card);
  });
}

function renderAchievements(){
  const container=document.getElementById("achievements");
  container.innerHTML="";
  achievementsConfig.forEach(a=>{
    const unlocked=!!gameState.achievementsUnlocked[a.id];
    const card=document.createElement("div");
    card.className="card"+(unlocked?" unlocked":"");

    const main=document.createElement("div");
    main.className="card-main";

    const title=document.createElement("div");
    title.className="card-title";
    title.textContent=unlocked?a.name:"???";

    const desc=document.createElement("div");
    desc.className="card-desc";
    desc.textContent=unlocked?a.desc:"Unlock to reveal this 67 achievement.";

    const meta=document.createElement("div");
    meta.className="card-meta";
    meta.textContent=unlocked?a.rewardText:"Locked";

    main.appendChild(title);
    main.appendChild(desc);
    main.appendChild(meta);

    const side=document.createElement("div");
    side.style.display="flex";
    side.style.alignItems="center";

    const badge=document.createElement("div");
    badge.className="card-badge";
    badge.textContent=unlocked?"Unlocked":"Locked";

    side.appendChild(badge);
    card.appendChild(main);
    card.appendChild(side);

    container.appendChild(card);
  });
}

function renderStats(){
  document.getElementById("big-number").textContent=formatNumber(gameState.currency);
  document.getElementById("click-amount-display").textContent="+"+formatNumber(getTotalClickPower())+" per tap";

  document.getElementById("stat-current").textContent=formatNumber(gameState.currency);
  document.getElementById("stat-total-earned").textContent=formatNumber(gameState.totalCurrency);
  document.getElementById("stat-total-clicks").textContent=formatNumber(gameState.totalClicks);
  document.getElementById("stat-highest").textContent=formatNumber(gameState.highest||0);
  document.getElementById("stat-per-click").textContent=formatNumber(getTotalClickPower());
  document.getElementById("stat-per-second").textContent=formatNumber(getTotalAutoPower());
  document.getElementById("stat-upgrades").textContent=Object.values(gameState.upgrades).reduce((a,b)=>a+b,0);
  document.getElementById("stat-achieve").textContent=Object.keys(gameState.achievementsUnlocked).length;
  document.getElementById("stat-prestige-level").textContent=gameState.prestigeLevel;
  document.getElementById("stat-aura").textContent=formatNumber(gameState.prestigePoints);
  document.getElementById("stat-aura-mult").textContent="x"+getPrestigeMultiplier().toFixed(2);

  document.getElementById("prestige-points").textContent=formatNumber(gameState.prestigePoints);
  document.getElementById("prestige-mult").textContent="x"+getPrestigeMultiplier().toFixed(2);

  const req=getPrestigeRequirement();
  document.getElementById("prestige-requirement").textContent=
    "Need at least "+formatNumber(req)+" total 67 to prestige. (You have "+formatNumber(gameState.totalCurrency)+" total.)";

  const btnPrestige=document.getElementById("btn-prestige");
  const gain=calculatePrestigeGain();
  if(gain>0){
    btnPrestige.classList.remove("disabled");
    btnPrestige.textContent="Ascend 67 (+"+gain+" Aura)";
  } else {
    btnPrestige.classList.add("disabled");
    btnPrestige.textContent="Ascend 67";
  }
}

function buyUpgrade(id){
  const u=upgradesConfig.find(x=>x.id===id);
  if(!u) return;
  const count=gameState.upgrades[id]||0;
  const cost=getUpgradeCost(u,count);
  if(gameState.currency<cost) return;

  gameState.currency-=cost;
  gameState.upgrades[id]=count+1;

  renderUpgrades();
  renderStats();
  checkAchievements();
}

function handleClick(event){
  const gain=getTotalClickPower();
  gameState.currency+=gain;
  gameState.totalCurrency+=gain;
  gameState.totalClicks+=1;
  gameState.highest=Math.max(gameState.highest||0, gameState.currency);

  const x=event.clientX||(event.touches&&event.touches[0].clientX);
  const y=event.clientY||(event.touches&&event.touches[0].clientY);
  if(x&&y) spawnPop(x,y,"+"+formatNumber(gain));

  checkAchievements();
  renderStats();
}

function tick(){
  const now=Date.now();
  const diff=(now-gameState.lastTick)/1000;
  gameState.lastTick=now;

  const cps=getTotalAutoPower();
  if(cps>0&&diff>0){
    const gain=cps*diff;
    gameState.currency+=gain;
    gameState.totalCurrency+=gain;
    gameState.highest=Math.max(gameState.highest||0, gameState.currency);
  }

  renderStats();
  checkAchievements();
}

function checkAchievements(){
  let changed=false;
  achievementsConfig.forEach(a=>{
    if(gameState.achievementsUnlocked[a.id]) return;
    if(a.check(gameState)){
      gameState.achievementsUnlocked[a.id]=true;
      changed=true;
    }
  });
  if(changed) renderAchievements();
}

function doPrestige(){
  const gain=calculatePrestigeGain();
  if(gain<=0) return;

  if(!confirm("Ascend 67?\n\nYou will gain "+gain+" permanent 67 Aura.\nThis resets 67, upgrades, and achievements, but keeps Aura.\n\nContinue?"))
    return;

  gameState.prestigePoints+=gain;
  gameState.prestigeLevel+=1;

  gameState.currency=0;
  gameState.totalCurrency=0;
  gameState.totalClicks=0;
  gameState.highest=0;
  gameState.perClickBase=1;
  gameState.perSecondBase=0;
  gameState.upgrades={};
  gameState.achievementsUnlocked={};
  gameState.lastTick=Date.now();

  renderUpgrades();
  renderAchievements();
  renderStats();
  saveGame();
}

function init(){
  loadGame();
  renderUpgrades();
  renderAchievements();
  renderStats();

  const mainClick=document.getElementById("main-click");
  mainClick.addEventListener("click",e=>{ e.preventDefault(); handleClick(e); });
  mainClick.addEventListener("touchstart",e=>{ e.preventDefault(); handleClick(e.touches[0]); });

  document.getElementById("btn-save").addEventListener("click",()=>saveGame());
  document.getElementById("btn-hard-reset").addEventListener("click",()=>hardReset());
  document.getElementById("btn-prestige").addEventListener("click",()=>{
    if(document.getElementById("btn-prestige").classList.contains("disabled")) return;
    doPrestige();
  });

  setInterval(tick,1000/20);
  setInterval(saveGame,5000);
}

window.addEventListener("load",init);
</script>

</body>
</html>
